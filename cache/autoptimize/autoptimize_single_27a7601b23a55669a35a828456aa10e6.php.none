async function sendMessage(){const input=document.getElementById('llama-input');const message=input.value.trim();if(!message)return;appendMessage("user",message);input.value="";console.log("Sending to backend:",LlamaBotData.backendUrl,message);try{const res=await fetch(LlamaBotData.backendUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:message,client_id:LlamaBotData.clientId})});const data=await res.json();appendMessage("bot",data.reply);}catch(err){appendMessage("bot","Bot: Error. Try again later.");console.error("Fetch error:",err);}}
function appendMessage(sender,message){const box=document.getElementById('chat-box');const msg=document.createElement('div');msg.className=sender;msg.textContent=`${sender === "user" ? "You" : "Bot"}: ${message}`;box.appendChild(msg);box.scrollTop=box.scrollHeight;}
console.log(LlamaBotData.backendUrl)